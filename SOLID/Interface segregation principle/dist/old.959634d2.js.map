{"version":3,"sources":["old.js"],"names":["User","_password","prototype","checkLogin","token","_facebookToken","_googleToken","setToken","checkPassword","password","resetPassword","prompt","Object","defineProperty","get","enumerable","configurable","Admin","GoogleBot","passwordElement","document","querySelector","typePasswordElement","typeGoogleElement","typeFacebookElement","loginAsAdminElement","resetPasswordElement","user","admin","googleBot","addEventListener","event","preventDefault","checked","value","userAuth","adminAuth","botAuth","alert","userReset"],"mappings":"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","file":"old.959634d2.js","sourceRoot":"..","sourcesContent":["var User = /** @class */ (function () {\n    function User() {\n        this._password = 'user';\n    }\n    User.prototype.checkLogin = function (token) {\n        return (token === this._facebookToken || token === this._googleToken);\n    };\n    User.prototype.setToken = function (token) {\n        if (token === this._facebookToken) {\n            this._facebookToken = token;\n        }\n        this._googleToken = token;\n    };\n    User.prototype.checkPassword = function (password) {\n        return (password === this._password);\n    };\n    User.prototype.resetPassword = function () {\n        this._password = prompt('What is your new password?');\n    };\n    Object.defineProperty(User.prototype, \"password\", {\n        get: function () {\n            return this._password;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return User;\n}());\n//admin cannot use google or facebook token\nvar Admin = /** @class */ (function () {\n    function Admin() {\n        this._password = 'admin';\n    }\n    Admin.prototype.checkPassword = function (password) {\n        return (password === this._password);\n    };\n    Admin.prototype.resetPassword = function () {\n        this._password = prompt('What is your new password?');\n    };\n    Object.defineProperty(Admin.prototype, \"password\", {\n        get: function () {\n            return this._password;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Admin;\n}());\nvar GoogleBot = /** @class */ (function () {\n    function GoogleBot() {\n        this._password = '';\n    }\n    GoogleBot.prototype.checkLogin = function (token) {\n        return (token === 'secret_token_google');\n    };\n    GoogleBot.prototype.checkPassword = function (password) {\n        return (password === this._password);\n    };\n    GoogleBot.prototype.resetPassword = function () {\n        this._password = prompt('What is your new password?');\n    };\n    GoogleBot.prototype.setToken = function (token) {\n        this._password = token;\n    };\n    Object.defineProperty(GoogleBot.prototype, \"password\", {\n        get: function () {\n            return this._password;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return GoogleBot;\n}());\nvar passwordElement = document.querySelector('#password');\nvar typePasswordElement = document.querySelector('#typePassword');\nvar typeGoogleElement = document.querySelector('#typeGoogle');\nvar typeFacebookElement = document.querySelector('#typeFacebook');\nvar loginAsAdminElement = document.querySelector('#loginAsAdmin');\nvar resetPasswordElement = document.querySelector('#resetPassword');\nvar user = new User;\nvar admin = new Admin;\nvar googleBot = new GoogleBot;\ndocument.querySelector('#login-form').addEventListener('submit', function (event) {\n    event.preventDefault();\n    //let bot = typeGoogleElement.checked ? googleBot : googleBot;\n    if (!loginAsAdminElement.checked) {\n        if (typeGoogleElement.checked && passwordElement.value !== admin.password) {\n            user.setToken('secret_token_google');\n        }\n        else if (typeFacebookElement.checked && passwordElement.value !== admin.password) {\n            user.setToken('secret_token_fb');\n        }\n        else if (typeGoogleElement.checked && passwordElement.value === googleBot.password) {\n            googleBot.setToken('secret_token_google');\n        }\n    }\n    var userAuth = false;\n    var adminAuth = false;\n    var botAuth = false;\n    switch (true) {\n        case typePasswordElement.checked && !loginAsAdminElement.checked:\n            userAuth = user.checkPassword(passwordElement.value);\n            break;\n        case typePasswordElement.checked && loginAsAdminElement.checked:\n            adminAuth = admin.checkPassword(passwordElement.value);\n            break;\n        case typeGoogleElement.checked && !loginAsAdminElement.checked && passwordElement.value === user.password:\n            userAuth = user.checkLogin('secret_token_google');\n            break;\n        case typeGoogleElement.checked && !loginAsAdminElement.checked && passwordElement.value === googleBot.password:\n            botAuth = googleBot.checkLogin('secret_token_google');\n            break;\n        case typeFacebookElement.checked && !loginAsAdminElement.checked && passwordElement.value === user.password:\n            userAuth = user.checkLogin('secret_token_fb');\n            break;\n    }\n    if (userAuth) {\n        alert('login success');\n    }\n    else if (adminAuth) {\n        alert('login success');\n    }\n    else if (botAuth) {\n        alert('login success');\n    }\n    else {\n        alert('login failed');\n    }\n});\nresetPasswordElement.addEventListener('click', function (event) {\n    event.preventDefault();\n    var userReset = loginAsAdminElement.checked ? admin : user;\n    userReset.resetPassword();\n});\n"]}